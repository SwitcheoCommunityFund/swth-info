"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sortAndStringifyJSON = exports.marshalJSON = void 0;
function sortObject(obj) {
    if (obj === null) {
        return null;
    }
    if (typeof obj !== "object") {
        return obj;
    }
    // arrays have typeof "object" in js!
    if (Array.isArray(obj)) {
        return obj.map(sortObject);
    }
    var sortedKeys = Object.keys(obj).sort();
    var result = {};
    sortedKeys.forEach(function (key) {
        result[key] = sortObject(obj[key]);
    });
    return result;
}
function marshalJSON(json) {
    return Buffer.from(sortAndStringifyJSON(json));
}
exports.marshalJSON = marshalJSON;
function sortAndStringifyJSON(json) {
    return JSON.stringify(sortObject(json));
}
exports.sortAndStringifyJSON = sortAndStringifyJSON;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW5jb2Rlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvdXRpbHMvZW5jb2Rlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxTQUFTLFVBQVUsQ0FBQyxHQUFHO0lBQ3JCLElBQUksR0FBRyxLQUFLLElBQUksRUFBRTtRQUNoQixPQUFPLElBQUksQ0FBQTtLQUNaO0lBQ0QsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7UUFDM0IsT0FBTyxHQUFHLENBQUE7S0FDWDtJQUNELHFDQUFxQztJQUNyQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDdEIsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0tBQzNCO0lBQ0QsSUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUMxQyxJQUFNLE1BQU0sR0FBRyxFQUFFLENBQUE7SUFDakIsVUFBVSxDQUFDLE9BQU8sQ0FBQyxVQUFBLEdBQUc7UUFDcEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtJQUNwQyxDQUFDLENBQUMsQ0FBQTtJQUNGLE9BQU8sTUFBTSxDQUFBO0FBQ2YsQ0FBQztBQUVELFNBQWdCLFdBQVcsQ0FBQyxJQUFJO0lBQzlCLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0FBQ2hELENBQUM7QUFGRCxrQ0FFQztBQUVELFNBQWdCLG9CQUFvQixDQUFDLElBQUk7SUFDdkMsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0FBQ3pDLENBQUM7QUFGRCxvREFFQyJ9